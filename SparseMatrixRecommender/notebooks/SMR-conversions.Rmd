---
title: "R Notebook"
output: html_notebook
---

```{r}
library(magrittr)
library(Matrix)
library(SparseMatrixRecommender)
#devtools::load_all()
```

# Create recommender(s)

```{r}
smrTitanic <- SMRCreate( dataRows = dfTitanic)
```

# Long form

```{r}
SMRMatricesToLongForm(smrTitanic)
```

# Wide form

```{r}
SMRMatricesToWideForm( smr = smrTitanic )
```

# To metadata recommender

```{r}
SMRSparseMatrixToTriplets(smrTitanic$M)
```

```{r}
smrAge <- SMRToMetadataRecommender( smr = smrTitanic, tagTypeTo = "passengerAge", tagTypes = NULL, tagSelection = function(x) c( TRUE, rep_len(x = FALSE, length.out = length(x)-1 )), addTagTypesToColumnNamesQ = TRUE )
```

```{r}
smrAge <- SMRToMetadataRecommender( smr = smrTitanic, tagTypeTo = "passengerAge", tagTypes = NULL, tagSelection = 3, addTagTypesToColumnNamesQ = TRUE )
```

```{r}
as.matrix(smrAge$M)
```

```{r}
as.matrix(smrAge$M)
```
# Unitize matrices

```{r}
smrFreq <- SMRUnitizeSubMatrices( smr = smrTitanic )
```

```{r}
summary(smrFreq$M@x)
```

