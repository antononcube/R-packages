---
title: "RandomDataFrame experiments"
author: Anton Antonov
date: 2020-12-28
output: html_notebook
---

```{r}
devtools::load_all()
library(tidyverse)
```

# First experiments

```{r}
RandomString(6, lambda = 8)
```

```{r}
RandomWord(6, "Common")
```

# Column names

```{r}
RandomDataFrame( nrow = 4, ncol = 5, columnNames = c("a", "b", "c"))
```

```{r}
RandomDataFrame( nrow = 4, ncol = 5, columnNamesGenerator = RandomWord )
```

```{r}
RandomDataFrame( nrow = 4, ncol = 5, columnNamesGenerator = function(k) RandomWord(k, "Common") )
```

```{r}
RandomDataFrame( nrow = 4, ncol = 5, columnNamesGenerator = function(k) rpois(k, lambda = 5) )
```

# Min and max number of values

```{r}
RandomDataFrame( nrow = 4, ncol = 5, minNumberOfValues = NULL, maxNumberOfValues = 18, rowNamesQ = T)
```
# Generators

```{r}
dfGen1 <- RandomDataFrame( nrow = 100, columnNames = c("a", "b", "c", "d"), generators = list( "b" = rnorm, "d" = RandomString ) )
dfGen1
```

```{r}
mean(dfGen1$b)
sd(dfGen1$b)
ExcessCurtosis <- function(x, k) { mean( (x - mean(x) )^4 ) - 3 * mean( (x - mean(x) )^2 )^2 }
ExcessCurtosis( dfGen1$b )
```

```{r}
RandomDataFrame( nrow = 4, ncol = 5, generators = function(k) rnorm( n = k, mean = 40, sd = 3) )
```

```{r}
RandomDataFrame( nrow = 4, ncol = 5, generators = c( function(k) rpois( n = k, lambda = 4), function(k) RandomWord(k) ))
```

# Batch execution

```{r}
lsRDFs <- purrr::map( 1:50, ~ RandomDataFrame( columnNamesGenerator = NA) )
```

```{r, rows.print = 40}
purrr::map_dfr( lsRDFs, ~ c( NRow = nrow(.), NCol = ncol(.) ) ) %>% dplyr::arrange(desc(NRow * NCol))
```

```{r}
RandomWord(5)
```

